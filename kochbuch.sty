%
% -----------------------------------------------------------------------------
%  Template for Recipes                                 % vim:sw=2:ts=2:syn=tex
% -----------------------------------------------------------------------------
%  used packages
%
  \usepackage{cmap}
  \usepackage[ngerman]{babel}
%  \usepackage[utf8]{inputenc}		% obsolete since 2018
  \usepackage[T1]{fontenc}
	\usepackage{sanitize-umlaut}		% sorts ä,ö,ü in index under a,o,u
	\usepackage{lmodern}						% mor modern font set
  \usepackage[dvipsnames]{xcolor}	% extended color names
  \usepackage{graphicx}						% image package
  \usepackage{nicefrac}						% nice fractions
																	% TODO: update to xfrac
  \usepackage{makeidx}						% create indexes

	\usepackage{geometry}
		\geometry{
			left	= 2.5cm,
			right	= 2cm,
			top		= 3cm,
			bottom= 2cm}

	\usepackage{titlesec}						% chapter/section customisation

	\usepackage{lettrine}						% Drop cap

  \usepackage[										% creates links for index
    pdfpagelayout=TwoPageRight,
    pdfcreator=PDFLaTeX,
    pdfproducer=MikTeX,
    colorlinks,
    hyperindex,
    encap,
    urlcolor=OliveGreen,
    linkcolor=OliveGreen]{hyperref}

%
% -----------------------------------------------------------------------------
%  Formating
%
% Formating \part{}
	\titleformat{\part}[display]
		{\color{PartColor}\fontsize{40}{48}\normalfont\bfseries\centering}
		{\color{PartColor}\Huge\partname~\thepart}{1em}{}

% Formating \chapter{}
	\titleformat{\chapter}[display]
		{\color{ChapterColor}\normalfont\LARGE\bfseries}
		{\color{ChapterColor}\Large\chaptertitlename~\thechapter}{0.5em}{}

% Formating \section{}
	\titleformat{\section}
		{\color{RecipeColor}\normalfont\huge\bfseries}
		{\color{RecipeColor}\thesection}{1em}{}

%
% -----------------------------------------------------------------------------
%  Header / Footer
%
	\newpagestyle{main}{
		\sethead[][][\chaptertitle]{}{}{\chaptertitle}
		\setfoot[][\thepage][]{}{\thepage}{}
	}
	\pagestyle{main}

%
% -----------------------------------------------------------------------------
%  New commands
%
% Easy fractions
  \newcommand{\halb}{\nicefrac{1}{2}~}
  \newcommand{\einhalb}{\nicefrac{1}{2}~}
  \newcommand{\drittel}{\nicefrac{1}{3}~}
  \newcommand{\viertel}{\nicefrac{1}{4}~}
  \newcommand{\achtel}{\nicefrac{1}{8}~}
  \newcommand{\dreiviertel}{\nicefrac{3}{4}~}

% degrees Celsius
	% TODO: implement cooking symobls / cooking units
  \newcommand{\celsius}{$^\circ$C~}

% ingredients list environment
	% \inglist 								--> Zutaten:
	% \inglist[Ingredients:]	--> Ingredients:
  \newcommand{\inglist}[1][Zutaten:]{\textbf{\textcolor{IngredientColor}{ #1}}\\}

% print index always after cleardoublepage
  \newcommand{\showindex}{
%    ~\cleardoublepage
    \printindex
  }

% create Chapter w/o numbering add default picture if not specified
  \newcommand{\category}[2][Bilder/Leer.jpg]{%
		\chapter{#2}
    \includegraphics[width=\textwidth]{#1}
    \newpage
  }

% defining step command for cooking instructions
	\newcommand{\steps}{
    \end{minipage}
    \hspace*{0.6cm}
    \begin{minipage}[t]{0.7\textwidth}		% width of text body
				\setlength{\parskip}{.25em}
  }

	% step command to define single cooking steps 
	\newcommand{\step}[1]{\lettrine[lines=2,lhang=0.33,lraise=0.35]{\textcolor{LetterColor}{\thestepcount}}{~}{#1}\\	\stepcounter{stepcount}}


% ingredient entry
	% TODO: implement cooking units
	% \ingredientt{<Amount>}{<Unit>}{<Ingredient>}
	\newcommand{\ingredient}[3]{\makebox[0.8cm][r]{#1}\,\makebox[0.8cm][l]{#2}\,\parbox[t]{2.5cm}{#3}\\} 

% environment for recipe add unnumbered titel as section
	% sample usage
	% \begin{recipe}{Recipe title}{recipe author}
	\newcounter{stepcount}			% Counter for steps

  \newenvironment{recipe}[2]{
	\setcounter{stepcount}{1}		% Reset counter for steps

		% create title and recipe author, insert recipe to index
		\section*{{\huge #1}\\\qquad \large #2}\index{#1} 
		\addcontentsline{toc}{section}{#1}		% add unnumbered section to TOC
    \begin{minipage}[t]{0.28\textwidth}		% width of ingredients
		\raggedright													% avoid justyfied in ingredient list
    \small
  }{
			\end{minipage}
    ~\\[.5 cm]
  }

% Print index
	% TODO: include in TOC
\makeindex


%
% -----------------------------------------------------------------------------
